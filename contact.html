<!DOCTYPE html>
<html lang="en">
<head>
    <title>Contact Us - RentAll</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">
                <i class="bi bi-box-seam"></i> RentAll
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link text-dark" href="index.html">Home</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-dark" href="categories.html" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Categories
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="categories.html">All Categories</a></li>
                            <li><a class="dropdown-item" href="#">Tools & Equipment</a></li>
                            <li><a class="dropdown-item" href="#">Sports & Outdoors</a></li>
                            <li><a class="dropdown-item" href="#">Electronics</a></li>
                            <li><a class="dropdown-item" href="#">Entertainment</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-dark" href="#">About Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active text-dark" href="contact.html">Contact Us</a>
                    </li>
                </ul>
                <!-- Navbar Search Bar -->
                <form class="d-flex ms-3 me-3 navbar-search" role="search" style="max-width: 300px; width: 100%;">
                    <input class="form-control me-2" type="search" placeholder="Search rentals..." aria-label="Search">
                    <button class="btn btn-outline-light" type="submit"><i class="bi bi-search"></i></button>
                </form>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <button class="btn auth-button me-2" data-bs-toggle="modal" data-bs-target="#createListingModal">
                            <i class="bi bi-plus-circle"></i> Create Listing
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="btn auth-button me-2" data-bs-toggle="modal" data-bs-target="#loginModal">
                            Sign In
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="btn auth-button" data-bs-toggle="modal" data-bs-target="#registerModal">
                            Register
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="hero-section">
        <div class="hero-decoration"></div>
        <div class="container">
            <div class="hero-content text-center">
                <h1 class="hero-title">Contact Us</h1>
                <p class="hero-subtitle">We're here to help! Get in touch with our support team</p>
            </div>
        </div>
    </section>

    <!-- Contact Content -->
    <div class="container rental-container py-5">
        <div class="row">
            <!-- Contact Information -->
            <div class="col-lg-4 mb-4">
                <div class="card h-100">
                    <div class="card-body">
                        <h4 class="card-title mb-4">Get in Touch</h4>
                        
                        <div class="d-flex align-items-center mb-3">
                            <i class="bi bi-envelope-fill text-primary me-3 fs-4"></i>
                            <div>
                                <h6 class="mb-0">Email</h6>
                                <p class="text-muted mb-0">support@rentshare.com</p>
                            </div>
                        </div>
                        
                        <div class="d-flex align-items-center mb-3">
                            <i class="bi bi-telephone-fill text-primary me-3 fs-4"></i>
                            <div>
                                <h6 class="mb-0">Phone</h6>
                                <p class="text-muted mb-0">+1 (604) 555-0123</p>
                            </div>
                        </div>
                        
                        <div class="d-flex align-items-center mb-3">
                            <i class="bi bi-geo-alt-fill text-primary me-3 fs-4"></i>
                            <div>
                                <h6 class="mb-0">Address</h6>
                                <p class="text-muted mb-0">123 Main Street<br>Richmond, BC V6Y 1A1</p>
                            </div>
                        </div>
                        
                        <div class="d-flex align-items-center mb-3">
                            <i class="bi bi-clock-fill text-primary me-3 fs-4"></i>
                            <div>
                                <h6 class="mb-0">Business Hours</h6>
                                <p class="text-muted mb-0">Mon-Fri: 9:00 AM - 6:00 PM<br>Sat: 10:00 AM - 4:00 PM</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contact Form -->
            <div class="col-lg-8">
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title mb-4">Send us a Message</h4>
                        
                        <form action="mailto:support@rentshare.com" method="post" enctype="text/plain">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="firstName" class="form-label">First Name *</label>
                                    <input type="text" class="form-control" id="firstName" name="firstName" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="lastName" class="form-label">Last Name *</label>
                                    <input type="text" class="form-control" id="lastName" name="lastName" required>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="email" class="form-label">Email Address *</label>
                                    <input type="email" class="form-control" id="email" name="email" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="phone" class="form-label">Phone Number</label>
                                    <input type="tel" class="form-control" id="phone" name="phone">
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="subject" class="form-label">Subject *</label>
                                <select class="form-select" id="subject" name="subject" required>
                                    <option value="">Select a subject</option>
                                    <option value="General Inquiry">General Inquiry</option>
                                    <option value="Technical Support">Technical Support</option>
                                    <option value="Billing Question">Billing Question</option>
                                    <option value="Report an Issue">Report an Issue</option>
                                    <option value="Partnership">Partnership</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label for="message" class="form-label">Message *</label>
                                <textarea class="form-control" id="message" name="message" rows="5" placeholder="Please describe your inquiry in detail..." required></textarea>
                            </div>
                            
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="newsletter" name="newsletter">
                                <label class="form-check-label" for="newsletter">
                                    Subscribe to our newsletter for updates and special offers
                                </label>
                            </div>
                            
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="privacy" name="privacy" required>
                                <label class="form-check-label" for="privacy">
                                    I agree to the <a href="#" class="text-decoration-none">Privacy Policy</a> and consent to being contacted regarding my inquiry
                                </label>
                            </div>
                            
                            <button type="submit" class="btn auth-button">
                                <i class="bi bi-send me-2"></i>Send Message
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- FAQ Section -->
        <div class="row mt-5">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title mb-4">Frequently Asked Questions</h4>
                        
                        <div class="accordion" id="faqAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq1">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">
                                        How do I create a listing?
                                    </button>
                                </h2>
                                <div id="collapse1" class="accordion-collapse collapse show" aria-labelledby="faq1" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Creating a listing is easy! Simply click the "Create Listing" button in the navigation bar, fill out the form with your item details, upload photos, and set your rental price. Your listing will be reviewed and published within 24 hours.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq2">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
                                        What happens if my item gets damaged?
                                    </button>
                                </h2>
                                <div id="collapse2" class="accordion-collapse collapse" aria-labelledby="faq2" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        RentShare provides protection for your items. We recommend taking photos before and after each rental, and our platform includes a damage protection program. In case of damage, contact our support team immediately.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq3">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" aria-expanded="false" aria-controls="collapse3">
                                        How do payments work?
                                    </button>
                                </h2>
                                <div id="collapse3" class="accordion-collapse collapse" aria-labelledby="faq3" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Payments are processed securely through our platform. Renters pay upfront, and you'll receive payment (minus our service fee) within 2-3 business days after the rental period ends.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq4">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4" aria-expanded="false" aria-controls="collapse4">
                                        Can I cancel a rental?
                                    </button>
                                </h2>
                                <div id="collapse4" class="accordion-collapse collapse" aria-labelledby="faq4" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Yes, you can cancel a rental up to 24 hours before the scheduled pickup time. Cancellations made within 24 hours may be subject to a cancellation fee. Please check our cancellation policy for full details.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Login to Your Account</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="loginEmail" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="loginEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="loginPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="loginPassword" required>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="rememberMe">
                            <label class="form-check-label" for="rememberMe">Remember me</label>
                        </div>
                        <button type="submit" class="btn auth-button w-100">Login</button>
                        <div class="text-center mt-3">
                            <a href="#" class="text-decoration-none">Forgot password?</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal fade" id="registerModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Create an Account</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="registerFirstName" class="form-label">First Name</label>
                            <input type="text" class="form-control" id="registerFirstName" required>
                        </div>
                        <div class="mb-3">
                            <label for="registerLastName" class="form-label">Last Name</label>
                            <input type="text" class="form-control" id="registerLastName" required>
                        </div>
                        <div class="mb-3">
                            <label for="registerEmail" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="registerEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="registerPhone" class="form-label">Phone Number</label>
                            <input type="tel" class="form-control" id="registerPhone" required>
                        </div>
                        <div class="mb-3">
                            <label for="registerPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="registerPassword" required>
                        </div>
                        <div class="mb-3">
                            <label for="confirmPassword" class="form-label">Confirm Password</label>
                            <input type="password" class="form-control" id="confirmPassword" required>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="termsAgreement" required>
                            <label class="form-check-label" for="termsAgreement">
                                I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>
                            </label>
                        </div>
                        <button type="submit" class="btn auth-button w-100">Create Account</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Listing Modal -->
    <div class="modal fade" id="createListingModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Create a New Listing</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="row">
                            <div class="col-md-8">
                                <div class="mb-3">
                                    <label for="itemTitle" class="form-label">Item Title</label>
                                    <input type="text" class="form-control" id="itemTitle" placeholder="e.g., Professional Camera Kit" required>
                                </div>
                                <div class="mb-3">
                                    <label for="itemDescription" class="form-label">Description</label>
                                    <textarea class="form-control" id="itemDescription" rows="4" placeholder="Describe your item, its condition, and what's included..." required></textarea>
                                </div>
                                <!-- Upload Images Section -->
                                <div class="mb-3">
                                    <label for="itemImages" class="form-label">Upload Images</label>
                                    <div class="border rounded p-3 text-center" style="border-style: dashed !important;">
                                        <i class="bi bi-cloud-upload fs-1 text-muted"></i>
                                        <p class="mt-2 mb-0">Drag and drop images here or click to browse</p>
                                        <input type="file" class="form-control mt-2" id="itemImages" multiple accept="image/*">
                                    </div>
                                </div>
                                <!-- Availability Section -->
                                <div class="mb-3">
                                    <label class="form-label">Availability</label>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="availableNow" checked>
                                        <label class="form-check-label" for="availableNow">
                                            Available now
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="availableWeekends">
                                        <label class="form-check-label" for="availableWeekends">
                                            Available weekends
                                        </label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="dailyRate" class="form-label">Daily Rate ($)</label>
                                            <input type="number" class="form-control" id="dailyRate" min="1" step="0.01" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="category" class="form-label">Category</label>
                                            <select class="form-select" id="category" required>
                                                <option value="">Select a category</option>
                                                <option value="tools">Tools & Equipment</option>
                                                <option value="sports">Sports & Outdoors</option>
                                                <option value="electronics">Electronics</option>
                                                <option value="entertainment">Entertainment</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="location" class="form-label">Location</label>
                                            <input type="text" class="form-control" id="location" placeholder="City, Province" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="contactPhone" class="form-label">Contact Phone</label>
                                            <input type="tel" class="form-control" id="contactPhone" required>
                                        </div>
                                    </div>
                                </div>
                                <!-- Booking System Section -->
                                <div class="booking-section mt-4">
                                    <h6 class="mb-3">Booking Settings</h6>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="minRentalDays" class="form-label">Minimum Rental Days</label>
                                                <input type="number" class="form-control" id="minRentalDays" min="1" value="1">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="maxRentalDays" class="form-label">Maximum Rental Days</label>
                                                <input type="number" class="form-control" id="maxRentalDays" min="1" value="30">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="advanceBookingDays" class="form-label">Advance Booking (days)</label>
                                                <input type="number" class="form-control" id="advanceBookingDays" min="0" value="7">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="cancellationPolicy" class="form-label">Cancellation Policy</label>
                                                <select class="form-select" id="cancellationPolicy">
                                                    <option value="flexible">Flexible (24h notice)</option>
                                                    <option value="moderate">Moderate (48h notice)</option>
                                                    <option value="strict">Strict (7 days notice)</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <!-- Calendar Section -->
                                <div class="calendar-section mt-4">
                                    <h6 class="mb-3">Availability Calendar</h6>
                                    <div class="calendar-container">
                                        <div class="calendar-header d-flex justify-content-between align-items-center mb-3">
                                            <button type="button" class="btn btn-sm btn-outline-secondary" id="prevMonth">
                                                <i class="bi bi-chevron-left"></i>
                                            </button>
                                            <h6 class="mb-0" id="currentMonth">December 2024</h6>
                                            <button type="button" class="btn btn-sm btn-outline-secondary" id="nextMonth">
                                                <i class="bi bi-chevron-right"></i>
                                            </button>
                                        </div>
                                        <div class="calendar-weekdays d-flex">
                                            <div class="calendar-weekday">Sun</div>
                                            <div class="calendar-weekday">Mon</div>
                                            <div class="calendar-weekday">Tue</div>
                                            <div class="calendar-weekday">Wed</div>
                                            <div class="calendar-weekday">Thu</div>
                                            <div class="calendar-weekday">Fri</div>
                                            <div class="calendar-weekday">Sat</div>
                                        </div>
                                        <div class="calendar-days" id="calendarDays">
                                            <!-- Calendar days will be populated by JavaScript -->
                                        </div>
                                    </div>
                                    <div class="calendar-legend mt-3">
                                        <div class="d-flex align-items-center mb-2">
                                            <div class="legend-item available"></div>
                                            <small class="ms-2">Available</small>
                                        </div>
                                        <div class="d-flex align-items-center mb-2">
                                            <div class="legend-item unavailable"></div>
                                            <small class="ms-2">Unavailable</small>
                                        </div>
                                        <div class="d-flex align-items-center">
                                            <div class="legend-item selected"></div>
                                            <small class="ms-2">Selected</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end gap-2">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn auth-button">Create Listing</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Unified Calendar and Booking System JavaScript -->
    <script>
        class RentalCalendar {
            constructor() {
                this.currentDate = new Date();
                this.selectedDates = new Set();
                this.unavailableDates = new Set();
                this.init();
            }

            init() {
                this.renderCalendar();
                this.bindEvents();
                this.setupBookingSettings();
            }

            renderCalendar() {
                const year = this.currentDate.getFullYear();
                const month = this.currentDate.getMonth();
                // Update month/year display
                const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                                  'July', 'August', 'September', 'October', 'November', 'December'];
                document.getElementById('currentMonth').textContent = `${monthNames[month]} ${year}`;
                const firstDay = new Date(year, month, 1);
                const startDate = new Date(firstDay);
                startDate.setDate(startDate.getDate() - firstDay.getDay());
                const calendarDays = document.getElementById('calendarDays');
                calendarDays.innerHTML = '';
                for (let i = 0; i < 42; i++) {
                    const date = new Date(startDate);
                    date.setDate(startDate.getDate() + i);
                    const dayElement = document.createElement('div');
                    dayElement.className = 'calendar-day';
                    dayElement.textContent = date.getDate();
                    dayElement.dataset.date = date.toISOString().split('T')[0];
                    if (date.getMonth() !== month) {
                        dayElement.classList.add('other-month');
                    }
                    const today = new Date();
                    if (date.toDateString() === today.toDateString()) {
                        dayElement.classList.add('today');
                    }
                    if (this.unavailableDates.has(date.toISOString().split('T')[0])) {
                        dayElement.classList.add('unavailable');
                    } else if (date.getMonth() === month) {
                        dayElement.classList.add('available');
                    }
                    if (this.selectedDates.has(date.toISOString().split('T')[0])) {
                        dayElement.classList.add('selected');
                    }
                    calendarDays.appendChild(dayElement);
                }
            }

            bindEvents() {
                document.getElementById('prevMonth').addEventListener('click', () => {
                    this.currentDate.setMonth(this.currentDate.getMonth() - 1);
                    this.renderCalendar();
                });
                document.getElementById('nextMonth').addEventListener('click', () => {
                    this.currentDate.setMonth(this.currentDate.getMonth() + 1);
                    this.renderCalendar();
                });
                document.getElementById('calendarDays').addEventListener('click', (e) => {
                    if (e.target.classList.contains('calendar-day') && 
                        !e.target.classList.contains('other-month') && 
                        !e.target.classList.contains('unavailable')) {
                        const date = e.target.dataset.date;
                        this.toggleDateSelection(date);
                        this.renderCalendar();
                    }
                });
                document.getElementById('minRentalDays').addEventListener('change', () => {
                    this.updateAvailability();
                });
                document.getElementById('maxRentalDays').addEventListener('change', () => {
                    this.updateAvailability();
                });
                document.getElementById('advanceBookingDays').addEventListener('change', () => {
                    this.updateAvailability();
                });
            }

            toggleDateSelection(date) {
                if (this.selectedDates.has(date)) {
                    this.selectedDates.delete(date);
                } else {
                    this.selectedDates.add(date);
                }
            }

            setupBookingSettings() {
                const today = new Date();
                for (let i = 0; i < 90; i++) {
                    const date = new Date(today);
                    date.setDate(today.getDate() + i);
                    if (date.getDay() === 0 || date.getDay() === 6) {
                        this.unavailableDates.add(date.toISOString().split('T')[0]);
                    }
                }
                this.updateAvailability();
            }

            updateAvailability() {
                const minDays = parseInt(document.getElementById('minRentalDays').value) || 1;
                const maxDays = parseInt(document.getElementById('maxRentalDays').value) || 30;
                const advanceDays = parseInt(document.getElementById('advanceBookingDays').value) || 7;
                const today = new Date();
                const advanceDate = new Date(today);
                advanceDate.setDate(today.getDate() + advanceDays);
                this.unavailableDates.clear();
                for (let i = 0; i < advanceDays; i++) {
                    const date = new Date(today);
                    date.setDate(today.getDate() + i);
                    this.unavailableDates.add(date.toISOString().split('T')[0]);
                }
                for (let i = advanceDays; i < 90; i++) {
                    const date = new Date(today);
                    date.setDate(today.getDate() + i);
                    if (date.getDay() === 0 || date.getDay() === 6) {
                        this.unavailableDates.add(date.toISOString().split('T')[0]);
                    }
                }
                this.renderCalendar();
            }

            getSelectedDates() {
                return Array.from(this.selectedDates).sort();
            }

            getBookingData() {
                return {
                    selectedDates: this.getSelectedDates(),
                    minRentalDays: parseInt(document.getElementById('minRentalDays').value) || 1,
                    maxRentalDays: parseInt(document.getElementById('maxRentalDays').value) || 30,
                    advanceBookingDays: parseInt(document.getElementById('advanceBookingDays').value) || 7,
                    cancellationPolicy: document.getElementById('cancellationPolicy').value
                };
            }
        }

        // Initialize calendar when modal is shown
        let rentalCalendar;
        document.getElementById('createListingModal').addEventListener('shown.bs.modal', function () {
            if (!rentalCalendar) {
                rentalCalendar = new RentalCalendar();
            }
        });

        // Handle form submission
        document.querySelector('#createListingModal form').addEventListener('submit', function(e) {
            e.preventDefault();
            if (rentalCalendar) {
                const bookingData = rentalCalendar.getBookingData();
                console.log('Booking Data:', bookingData);
                alert('Listing created successfully! Booking system configured.');
                const modal = bootstrap.Modal.getInstance(document.getElementById('createListingModal'));
                modal.hide();
            }
        });
    </script>
</body>
</html> 